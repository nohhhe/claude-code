# E2E Test Suite for E-Commerce Store

ì´ í”„ë¡œì íŠ¸ëŠ” e-commerce ì›¹ì‚¬ì´íŠ¸ì˜ End-to-End (E2E) í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ Playwright í…ŒìŠ¤íŠ¸ í™˜ê²½ì…ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [ì„¤ì¹˜](#ì„¤ì¹˜)
- [í…ŒìŠ¤íŠ¸ ì‹¤í–‰](#í…ŒìŠ¤íŠ¸-ì‹¤í–‰)
- [í…ŒìŠ¤íŠ¸ êµ¬ì¡°](#í…ŒìŠ¤íŠ¸-êµ¬ì¡°)
- [Mock Server](#mock-server)
- [ë¸Œë¼ìš°ì € ì„¤ì •](#ë¸Œë¼ìš°ì €-ì„¤ì •)
- [ë””ë²„ê¹…](#ë””ë²„ê¹…)
- [ë³´ê³ ì„œ](#ë³´ê³ ì„œ)

## ğŸš€ ì„¤ì¹˜

### 1. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
npm install
```

### 2. Playwright ë¸Œë¼ìš°ì € ì„¤ì¹˜
```bash
npx playwright install
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

### ê¸°ë³¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
npm test
```

### ë‹¤ì–‘í•œ ì‹¤í–‰ ì˜µì…˜
```bash
# UI ëª¨ë“œë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤ì‹œê°„ í™•ì¸)
npm run test:ui

# ë¸Œë¼ìš°ì € ì°½ì„ ë„ìš°ë©° í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test:headed

# ë””ë²„ê·¸ ëª¨ë“œë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test:debug

# íŠ¹ì • ë¸Œë¼ìš°ì €ì—ì„œë§Œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx playwright test --project=chromium
npx playwright test --project=firefox
npx playwright test --project=webkit
npx playwright test --project=mobile-chrome

# íŠ¹ì • í…ŒìŠ¤íŠ¸ íŒŒì¼ë§Œ ì‹¤í–‰
npx playwright test tests/purchase-flow.e2e.test.ts
```

## ğŸ“ í…ŒìŠ¤íŠ¸ êµ¬ì¡°

```
e2e/
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ purchase-flow.e2e.test.ts  # êµ¬ë§¤ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
â”œâ”€â”€ mock-server.js                 # í…ŒìŠ¤íŠ¸ìš© Mock ì„œë²„
â”œâ”€â”€ playwright.config.ts           # Playwright ì„¤ì •
â”œâ”€â”€ package.json                   # í”„ë¡œì íŠ¸ ì„¤ì •
â””â”€â”€ README.md                      # ì´ ë¬¸ì„œ
```

### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

í˜„ì¬ êµ¬í˜„ëœ `purchase-flow.e2e.test.ts`ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì „ì²´ êµ¬ë§¤ í”„ë¡œì„¸ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤:

1. **í™ˆí˜ì´ì§€ ì ‘ì†** - ê¸°ë³¸ í˜ì´ì§€ ë¡œë“œ í™•ì¸
2. **ìƒí’ˆ ê²€ìƒ‰** - ê²€ìƒ‰ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
3. **ìƒí’ˆ ì„ íƒ** - ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ ì´ë™
4. **ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€** - ìƒí’ˆì„ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€
5. **ì¥ë°”êµ¬ë‹ˆ í™•ì¸** - ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ ìƒí’ˆ í™•ì¸
6. **ì²´í¬ì•„ì›ƒ** - êµ¬ë§¤ ì •ë³´ ì…ë ¥
7. **ì£¼ë¬¸ ì™„ë£Œ** - ìµœì¢… ì£¼ë¬¸ í™•ì¸

## ğŸ–¥ï¸ Mock Server

í…ŒìŠ¤íŠ¸ëŠ” `mock-server.js`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ ë°±ì—”ë“œ ì—†ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.

### Mock Server ìˆ˜ë™ ì‹¤í–‰
```bash
npm start
```

ì„œë²„ëŠ” `http://localhost:3000`ì—ì„œ ì‹¤í–‰ë˜ë©° ë‹¤ìŒ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:

- í™ˆí˜ì´ì§€ (`/`)
- ìƒí’ˆ ê²€ìƒ‰ (`/search`)
- ìƒí’ˆ ìƒì„¸ (`/products/:id`)
- ì¥ë°”êµ¬ë‹ˆ (`/cart`)
- ì²´í¬ì•„ì›ƒ (`/checkout`)
- API ì—”ë“œí¬ì¸íŠ¸ (`/api/*`)

### Mock Server íŠ¹ì§•
- ë©”ëª¨ë¦¬ ê¸°ë°˜ ì¥ë°”êµ¬ë‹ˆ ìƒíƒœ ê´€ë¦¬
- í…ŒìŠ¤íŠ¸ ê°„ ìƒíƒœ ì´ˆê¸°í™”ë¥¼ ìœ„í•œ `/api/reset` ì—”ë“œí¬ì¸íŠ¸
- ì‹¤ì œ e-commerce ì‚¬ì´íŠ¸ì˜ ì£¼ìš” ê¸°ëŠ¥ ì‹œë®¬ë ˆì´ì…˜

## ğŸŒ ë¸Œë¼ìš°ì € ì„¤ì •

í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒ ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤:

- **Chromium** (Desktop Chrome)
- **Firefox** (Desktop Firefox)
- **WebKit** (Desktop Safari)
- **Mobile Chrome** (Pixel 5 ê¸°ì¤€)

### ì„¤ì • ë³€ê²½

`playwright.config.ts`ì—ì„œ ë¸Œë¼ìš°ì € ì„¤ì •ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```typescript
projects: [
  {
    name: 'chromium',
    use: { ...devices['Desktop Chrome'] },
  },
  // ë‹¤ë¥¸ ë¸Œë¼ìš°ì € ì„¤ì •...
]
```

## ğŸ› ë””ë²„ê¹…

### 1. UI ëª¨ë“œ ì‚¬ìš©
```bash
npm run test:ui
```
ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œê°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê³  ë””ë²„ê¹…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2. ë””ë²„ê·¸ ëª¨ë“œ
```bash
npm run test:debug
```
í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ì—ì„œ ì •ì§€í•˜ê³  ë‹¨ê³„ë³„ ì‹¤í–‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 3. ìŠ¤í¬ë¦°ìƒ· ë° ë¹„ë””ì˜¤
í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ìŠ¤í¬ë¦°ìƒ·ê³¼ ë¹„ë””ì˜¤ê°€ ì €ì¥ë©ë‹ˆë‹¤:
- ìŠ¤í¬ë¦°ìƒ·: `test-results/` í´ë”
- ë¹„ë””ì˜¤: ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ë§Œ ì €ì¥

### 4. ì¶”ì (Trace) í™•ì¸
ì²« ë²ˆì§¸ ì¬ì‹œë„ ì‹œ traceê°€ ìë™ ì €ì¥ë˜ë©°, ì´ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê³¼ì •ì„ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“Š ë³´ê³ ì„œ

### HTML ë³´ê³ ì„œ í™•ì¸
```bash
npm run show-report
```

í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” HTML ë³´ê³ ì„œì—ì„œ ë‹¤ìŒ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½
- ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ì˜ ìƒì„¸ ì •ë³´
- ìŠ¤í¬ë¦°ìƒ· ë° ë¹„ë””ì˜¤
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„
- ë¸Œë¼ìš°ì €ë³„ ê²°ê³¼

## âš™ï¸ ì¶”ê°€ ì„¤ì •

### íƒ€ì„ì•„ì›ƒ ì„¤ì •
```typescript
// playwright.config.ts
export default defineConfig({
  timeout: 30000,        // ì „ì²´ í…ŒìŠ¤íŠ¸ íƒ€ì„ì•„ì›ƒ
  expect: {
    timeout: 5000        // expect ì–´ì„¤ì…˜ íƒ€ì„ì•„ì›ƒ
  }
});
```

### ë³‘ë ¬ ì‹¤í–‰ ì„¤ì •
```typescript
// playwright.config.ts
export default defineConfig({
  fullyParallel: false,  // ë³‘ë ¬ ì‹¤í–‰ ë¹„í™œì„±í™”
  workers: 1,            // ë™ì‹œ ì‹¤í–‰ ì›Œì»¤ ìˆ˜
});
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### 1. í¬íŠ¸ ì¶©ëŒ
ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ 3000 í¬íŠ¸ë¥¼ ì‚¬ìš© ì¤‘ì¸ ê²½ìš°:
```bash
# í¬íŠ¸ ì‚¬ìš© í™•ì¸
lsof -ti:3000

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
kill -9 $(lsof -ti:3000)
```

### 2. ë¸Œë¼ìš°ì € ì„¤ì¹˜ ë¬¸ì œ
```bash
# ë¸Œë¼ìš°ì € ì¬ì„¤ì¹˜
npx playwright install --force
```

### 3. í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ë””ë²„ê¹…
1. `npm run test:headed`ë¡œ ë¸Œë¼ìš°ì € ì°½ì—ì„œ í™•ì¸
2. `test-results/` í´ë”ì˜ ìŠ¤í¬ë¦°ìƒ· í™•ì¸
3. `playwright-report/` í´ë”ì˜ HTML ë³´ê³ ì„œ í™•ì¸

## ğŸ“ˆ í…ŒìŠ¤íŠ¸ í™•ì¥

ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì¶”ê°€ ì‹œ:

1. `tests/` í´ë”ì— ìƒˆ `.e2e.test.ts` íŒŒì¼ ìƒì„±
2. Mock Serverì— í•„ìš”í•œ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ì—¬ ê²€ì¦

### í…ŒìŠ¤íŠ¸ ì‘ì„± ì˜ˆì‹œ
```typescript
import { test, expect } from '@playwright/test';

test('ìƒˆë¡œìš´ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸', async ({ page }) => {
  await page.goto('http://localhost:3000');
  // í…ŒìŠ¤íŠ¸ ë¡œì§ ì‘ì„±
});
```