2-2.프롬프트 잘 작성하기
=========================
## ⭕ 프롬프트 엔지니어링 기초
단순히 무엇을 해달라는 수준의 프롬프트는 좋지 않습니다. 배경지식, 원하는 출력 형식, 제약 조건 등을 함께 명시해야 좋습니다.
- 좋지 않는 프롬프트: 해결 과정이 30분 소요
- 좋은 프롬프트: 해결 과정이 3분 소요

### ◉ 프롬프트 구성 요소
- 컨텍스트: 프로젝트 환경, 사용 기술 스택, 목표와 제약조건
- 구체적인 요구사항
- 예상 결과물: 결과물을 어떻게 받고 싶은지를 명시하면 불필요한 반복 요청을 줄이고 바로 활용 가능한 산출물을 얻을 수 있음

## ⭕ 컨텍스트 최적화 전략
### ◉ 작업 범위 명확히 제한하기
큰 프로젝트에서는 모든 파일을 대상을 분석하면 불필요하게 리소스가 낭비됩니다. 작업 범위를 명확히 제한하여 필요한 부분만 분석하도록 합니다.
- 잘못된 방식: 이 코드에서 버그를 찾아줘 -> 프로젝트 전체 파일을 분석
- 올바른 방식: <파일>에서 버그를 찾아줘 -> 특정 파일만 분석

### ◉ 단계적 접근법
복잡한 문제는 한 번에 해결하기 어렵습니다. 문제를 작은 단위로 나누어 단계적으로 접근하는 것이 효과적입니다.
- 1단계: 큰 그림 파악
> 프로젝트 전체 구조를 분석해서 문제가 있을 만한 영역을 찾아줘
- 2단계: 의심 영역 집중 분석
> API 호출 부분에서 성능 이슈를 찾아줘
- 3단계: 구체적 문제해결
> <파일>의 메모리 누수 원인을 찾아줘

### ◉ 토큰 관리와 세션 최적화
프롬프트를 간결하게 유지하고 세션을 관리 하는 것이 중요합니다. 불필요한 정보는 제거하고, 핵심적인 내용만 포함시켜 토큰 사용을 최적화합니다.

#### ✦ 세션 관리 명령어
- /compact: 현재 세션의 컨텍스트를 간소화 -> 대화가 길어져서 응답이 느려질 때 사용
- /clear: 세션 초기화 -> 완전히 다른 주제로 넘어갈 때 사용
- /stauts: 현재 세션 상태 확인 -> 현재 세션에서 사용중인 메모리나 MCP, 어카운트, 모델 등 상태를 확인할 때
- /context: 현재 컨텍스트 확인 -> 현재 세션의 컨텍스트 메모리 할당 현황을 확인할 때

#### ✦ Auto-Compact 모니터링
자동 압축은 토큰 임계치 관리의 핵심 신호입니다. 압축률을 관찰하는 것만으로도 세션 관리 상태를 진단할 수 있습니다.
- 빈번한 압축 발생: 프롬프트가 너무 길거나 불필요한 정보가 많음
- 낮은 압축률: 반복적인 정보나 중복된 내용이 많음
- 높은 압축률: 복잡한 작업이 진행 중 이거나, 다양한 주제가 혼재되어 있음

##### 압축 최적 전략
- 압축률이 50% 이상일 때는 /clear 명령어로 세션 초기화 고려
- 압축률이 낮을 때는 불필요한 정보 제거 및 프롬프트 간결화, /compact 명령어 사용 고려
- 이상적인 압축률: 30%대

#### ✦ 효율 증대 명령어: --permission-mode
- acceptEdis: 편집 제안을 자동으로 적용
- plan: 계획 모드로 먼저 단계 확인 후 실행
- bypassPermissions: 모든 권한 수락 프롬프트를 무시
> claude --permission-mode acceptEdis "리팩토링을 진행해줘"

##### 언제 사용하면 좋을지?
- acceptEdis: 반복적인 리팩토링 작업, 코드 정리
- plan: 복잡한 작업을 개발, 아키텍처 변경, 대규모 마이그레이션
- bypassPermissions:도구 실행보다는 다양한 권한이 반복적으로 요구되는 작업

#### ✦ 언어 선택 전략
- 영어: 단어 4개정도 = 1토큰
- 한글: 음절 1개 = 2~3토큰

##### 권장사항
- 영어 위주로 사용하여 토큰 효율성 극대화
- 복잡한 설명이 필요한 경우에만 한글 사용
- 기술 용어는 영어로 유지

## ⭕ 특수 문자 숏컷으로 프롬프트의 편의성 극대화
반복적인 복사, 붙여넣기 작업 없이도 클로드 코드에서는 특수 문자 기반 숏컷으로 직관적이고 빠르게 대화할 수 있습니다.

### ◉ @ - 파일 참조
파일 이름을 일일이 입력하지 않고도 @기호를 사용하여 파일을 쉽게 참조할 수 있습니다.
> @package.json 파일에서 의존성 문제를 찾아줘
> @Header.tsx @globals.css 헤더 컴포넌트 스타일을 개선해줘

### ◉ ! - 명령어 실행
!는 시스템 명령어를 사용자의 터미널에서 직접 실행할 떄 사용합니다. 이 명령어는 사용자의 로컬 환경에서 실행되며, 클로드는 실행 결과를 활용할 수 있습니다.
> ! npm install

### ◉ 여러 줄 입력하기
- \ + Enter: 모든 터미널에서 작동하는 표준 방법
- Option + Enter (Mac): Mac 환경에서 여러 줄 입력 시 사용(터미널 마다 다름)
- Shift + Enter: /terminal-setup 실행 후 사용 가능(iTerm2, VS Code 터미널 등)

## ⭕ 고급 프롬프트 기법
단순 요청만으로는 한계가 있습니다. 역할을 부여하거나 사고 과정을 단계로 나누면 클로드가 더 전문적이고 논리적인 답변을 내놓습니다.

### ◉ 롤플레잉 기법
특정 역할이나 전문가의 관점을 부여하여 더 적절하고 맥락에 맞는 답변을 얻는 프롬프트 기법입니다.

### ◉ 단계적 사고 유도
단계별 사고 유도는 복잡한 문제를 작은 단위로 분해하여 클로드가 체계적으로 접근하도록 유도하는 프롬프트 입니다.
